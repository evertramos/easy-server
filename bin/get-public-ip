#!/bin/bash
# Obtém o IP público da máquina

set -e

# Tenta múltiplos serviços em caso de falha
get_ip() {
    curl -s --max-time 5 https://api.ipify.org 2>/dev/null && return
    curl -s --max-time 5 https://ifconfig.me 2>/dev/null && return
    curl -s --max-time 5 https://icanhazip.com 2>/dev/null && return
    curl -s --max-time 5 https://ipecho.net/plain 2>/dev/null && return
    echo "Erro: não foi possível obter o IP público" >&2
    exit 1
}

IP=$(get_ip)
echo "$IP"
